---
import { t, changeLanguage, setDefaultNamespace } from "i18next";
import KPIs from "../components/home/KPIs.astro";
import HomeHero from "../components/home/HomeHero.astro";
import MainLayout from "../layouts/MainLayout.astro";
import ParkingLayout from "../layouts/ParkingLayout.astro";
import About from "../components/home/About.astro";
import TechStack from "../components/home/TechStack.astro";
import ContactCTA from "../components/home/ContactCTA.astro";

changeLanguage("es");

const parkingMode: string = import.meta.env.PUBLIC_PARKING_MODE;
const isParkingMode: boolean = parkingMode === "true";
setDefaultNamespace(!!isParkingMode ? "parking" : "home");
---

{
  !!isParkingMode ? (
    <ParkingLayout
      title={t("title")}
      contentTitle={t("content.mainTitle")}
      contentDescription={t("content.description")}
    />
  ) : (
    <MainLayout title={t("title")} description={t("description")}>
      <HomeHero
        title={t("components.hero.title")}
        companyName={t("components.hero.companyName")}
        description={t("components.hero.description")}
        ctaLabel={t("components.hero.ctaLabel")}
      />
      <KPIs
        title={t("components.kpis.title")}
        subtitle={t("components.kpis.subtitle")}
        kpi1={{
          title: t("components.kpis.kpi1.title"),
          description: t("components.kpis.kpi1.description"),
        }}
        kpi2={{
          title: t("components.kpis.kpi2.title"),
          description: t("components.kpis.kpi2.description"),
        }}
        kpi3={{
          title: t("components.kpis.kpi3.title"),
          description: t("components.kpis.kpi3.description"),
        }}
        kpi4={{
          title: t("components.kpis.kpi4.title"),
          description: t("components.kpis.kpi4.description"),
        }}
        kpi5={{
          title: t("components.kpis.kpi5.title"),
          description: t("components.kpis.kpi5.description"),
        }}
      />
      <TechStack title={t("components.techStack.title")} subtitle={t("components.techStack.subtitle")} />
      <About />
      <ContactCTA />
    </MainLayout>
  )
}
