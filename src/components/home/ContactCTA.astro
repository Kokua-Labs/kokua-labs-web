---
import LinkButton from "../shared/LinkButton.astro";
import Title from "../shared/Title.astro";

type ContactCTAProps = {
  cards: {
    title: string;
    description: string;
    cta?: string;
    submit?: string;
  }[];
};

const { cards } = Astro.props as ContactCTAProps;
---

<section class="contact-cta">
  {
    cards.map((card) => {
      return (
        <article class="contact-cta__card">
          <Title
            title={card.title}
            subtitle={card.description}
            subtitleAlign="left"
          />
          <div class="contact-cta__cta">
            {card.cta ? (
              <LinkButton to="/contact" label={card.cta} />
            ) : (
              <form id="form">
                <div class="contact-cta__form">
                  <input
                    type="email"
                    placeholder="email"
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                  />
                  <button type="submit">{card.submit}</button>
                </div>
              </form>
            )}
          </div>
        </article>
      );
    })
  }
</section>

<style>
  @import "../../../styles/media-queries.css";
  .contact-cta {
    margin: 86px 0 50px;
    display: flex;
    flex-direction: column;
    gap: var(--space-large);

    @media (--vp-media-desktop) {
      margin: 112px 0 0;
      flex-direction: row;
    }
    &__card {
      border: 1px solid var(--color-main);
      flex: 1 1 100%;
      background-color: var(--color-white);
      border-radius: var(--border-radius);
      padding: var(--space-large-2) var(--space-medium-2);
      @media (--vp-media-desktop) {
        flex: 1 1 50%;
      }
    }
    &__cta {
      display: flex;
      justify-content: center;
      margin-top: var(--space-medium-2);
    }
    &__form {
      display: flex;
      align-items: center;
      gap: var(--space-small);
    }
  }

  input[type="email"] {
    border-radius: var(--border-radius);
    border: none;
    width: 100%;
    padding: 0 30px;
    border: 1px solid var(--color-main);
    font-size: 21px;
    height: 48px;

    @media (--vp-media-desktop) {
      height: 64px;
    }
  }

  button[type="submit"] {
    display: block;
    font-family: "rykerbold";
    box-shadow: 11px 17px 27px -5px rgba(0, 0, 0, 0.25);
    background-color: var(--color-main);
    border-radius: var(--border-radius);
    border: none;
    padding: var(--space-medium) var(--space-medium-2);
    color: var(--color-white);
    width: fit-content;
    text-align: center;
    font-size: 16px;

    @media (--vp-media-desktop) {
      font-size: 21px;
    }
  }
</style>
